P8105_HW2_HL2710
================
Ainsel Levitskaia-Collins, HL2710
2025-09-25

### Problem 1

Importing and cleaning `pols_month`:

- Breaking `mon` into year/month/day variables
- Replacing month number with month name
- Combining `prez_dem` and `prez_gop` into a single variable
- Removing the`day` variable
- Ensure that the `year` variable will match with the `snp` dataset

``` r
pols_month <-
  read_csv("./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "mon"), sep = 4) %>% 
  separate(mon, into = c("month", "day"), sep = 4) %>% 
  mutate(
    month = case_match(month,
      "-01-" ~ "January",
      "-02-" ~ "February",
      "-03-" ~ "March",
      "-04-" ~ "April",
      "-05-" ~ "May",
      "-06-" ~ "June",
      "-07-" ~ "July",
      "-08-" ~ "August",
      "-09-" ~ "September",
      "-10-" ~ "October",
      "-11-" ~ "November",
      "-12-" ~ "December")) %>% 
  pivot_longer(
    starts_with("prez_"), 
    names_to = "president", 
    names_prefix = "prez_", 
    values_to = "president_yn") %>% 
  separate(year, into = c("extra", "year"), sep = 2) %>% 
  select(-day, -extra)

pols_month
```

    ## # A tibble: 1,644 × 10
    ##    year  month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 47    January       23      51     253      23      45     198 gop      
    ##  2 47    January       23      51     253      23      45     198 dem      
    ##  3 47    February      23      51     253      23      45     198 gop      
    ##  4 47    February      23      51     253      23      45     198 dem      
    ##  5 47    March         23      51     253      23      45     198 gop      
    ##  6 47    March         23      51     253      23      45     198 dem      
    ##  7 47    April         23      51     253      23      45     198 gop      
    ##  8 47    April         23      51     253      23      45     198 dem      
    ##  9 47    May           23      51     253      23      45     198 gop      
    ## 10 47    May           23      51     253      23      45     198 dem      
    ## # ℹ 1,634 more rows
    ## # ℹ 1 more variable: president_yn <dbl>

Importing and cleaning `snp`:

- Breaking `date` into year/month/day variables
- Ensuring that `year` and `month` are the leading columns
- Removing the `day` variable
- Replacing month number with month name

``` r
snp <-
  read_csv("./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate_wider_delim(
    date,
    delim = "/",
    names_sep = ".") %>% 
  select(
    year = date.3,
    month = date.1,
    everything()
  ) %>% 
  select(-date.2) %>% 
  mutate(
    month = case_match(month,
      "1" ~ "January",
      "2" ~ "February",
      "3" ~ "March",
      "4" ~ "April",
      "5" ~ "May",
      "6" ~ "June",
      "7" ~ "July",
      "8" ~ "August",
      "9" ~ "September",
      "10" ~ "October",
      "11" ~ "November",
      "12" ~ "December"))

snp
```

    ## # A tibble: 787 × 3
    ##    year  month    close
    ##    <chr> <chr>    <dbl>
    ##  1 15    July     2080.
    ##  2 15    June     2063.
    ##  3 15    May      2107.
    ##  4 15    April    2086.
    ##  5 15    March    2068.
    ##  6 15    February 2104.
    ##  7 15    January  1995.
    ##  8 14    December 2059.
    ##  9 14    November 2068.
    ## 10 14    October  2018.
    ## # ℹ 777 more rows

Importing and cleaning `unemployment`:

- Switching from “wide” to “long” format
- Ensuring all variables have the appropriate name
- Ensuring that all variables take the same values
- Ensure that the `year` variable will match with the `snp` dataset

``` r
unemployment <-
  read_csv("./data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "prcnt_unemployment"
  ) %>% 
  mutate(
    month = case_match(month,
      "jan" ~ "January",
      "feb" ~ "February",
      "mar" ~ "March",
      "apr" ~ "April",
      "may" ~ "May",
      "jun" ~ "June",
      "jul" ~ "July",
      "aug" ~ "August",
      "sep" ~ "September",
      "oct" ~ "October",
      "nov" ~ "November",
      "dec" ~ "December")) %>% 
  separate(year, into = c("extra", "year"), sep = 2) %>% 
  select(-extra)

unemployment
```

    ## # A tibble: 816 × 3
    ##    year  month     prcnt_unemployment
    ##    <chr> <chr>                  <dbl>
    ##  1 48    January                  3.4
    ##  2 48    February                 3.8
    ##  3 48    March                    4  
    ##  4 48    April                    3.9
    ##  5 48    May                      3.5
    ##  6 48    June                     3.6
    ##  7 48    July                     3.6
    ##  8 48    August                   3.9
    ##  9 48    September                3.8
    ## 10 48    October                  3.7
    ## # ℹ 806 more rows

Joining datasets:

1.  Merge `snp` into `pols`
2.  Merge `unemployment` into the result

``` r
pols_snp_unemployement <- left_join(pols_month, snp, by = c("year", "month")) %>% 
  left_join(unemployment, by = c("year", "month"))
```

The `pols_month` dataset has 1644 observations and 10 variables, and it
contains information on the number of republican and democratic
governors, senators, and representatives, and whether the president is
democratic and republican, for each observed date. The `snp` dataset has
787 observations and 3 variables, and it contains information on the
closing value of the S&P stock index for each observed date. The
`unemployment` dataset has 816 observations and 3 variables, and it
contains information on the percentage of unemployment for each observed
date.

The final dataset resulting from a merge between the three,
`pols_snp_unemployment` has 1644 observations and 12 variables, and it
contains the percentage of unemployment, S&P closing stock index value,
and number of politicians per political party for each observed date.

### Problem 2

### Problem 3
